
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø¨Ø§Ø¯Ø±Ø© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¹Ù„Ø§Ø¡ Ø¨Ù† Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</title>

<style>
:root{
--primary:#0b3d91;
--accent:#1e8e3e;
--bg:#f4f6f9;
--card:#ffffff;
--text:#222;
}

body.dark{
--bg:#111827;
--card:#1f2937;
--text:#f9fafb;
}

body{
margin:0;
font-family:Tajawal, Arial, sans-serif;
background:var(--bg);
color:var(--text);
transition:0.3s;
}

header{
background:var(--primary);
color:white;
padding:20px;
text-align:center;
position:sticky;
top:0;
z-index:1000;
}

header h1{margin:0;font-size:22px}
header p{margin:5px 0 0;font-size:14px}

.container{
max-width:800px;
margin:30px auto;
padding:20px;
}

.card{
background:var(--card);
padding:20px;
border-radius:10px;
box-shadow:0 4px 15px rgba(0,0,0,0.1);
margin-bottom:20px;
}

button{
padding:10px 18px;
border:none;
border-radius:6px;
cursor:pointer;
font-size:15px;
margin:5px 0;
}

.primary{background:var(--primary);color:white}
.secondary{background:var(--accent);color:white}
.option{
display:block;
width:100%;
background:#e5e7eb;
margin:8px 0;
text-align:right;
}
.option.selected{background:#c7d2fe}

.progress{
height:8px;
background:#ddd;
border-radius:10px;
overflow:hidden;
margin-bottom:10px;
}
.progress-bar{
height:100%;
width:0%;
background:var(--accent);
transition:0.3s;
}

.hidden{display:none}

.modal{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.6);
display:flex;
align-items:center;
justify-content:center;
}
.modal-content{
background:white;
padding:25px;
border-radius:10px;
width:90%;
max-width:400px;
text-align:center;
}

table{
width:100%;
border-collapse:collapse;
margin-top:15px;
}
th,td{
padding:8px;
border-bottom:1px solid #ccc;
text-align:center;
}
.gold{background:#ffd70033}
.silver{background:#c0c0c033}
.bronze{background:#cd7f3233}

footer{
text-align:center;
padding:20px;
font-size:13px;
color:#777;
}
</style>
</head>

<body>

<header>
<h1>Ù…Ø¨Ø§Ø¯Ø±Ø© Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¹Ù„Ø§Ø¡ Ø¨Ù† Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</h1>
<p>Ù…Ù†ØµØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ù…ØªÙˆØ³Ø·<br>
Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…: Ø¬Ù‡Ø§Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ | Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ</p>
<button onclick="toggleDark()">ğŸŒ™ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹</button>
</header>

<div class="container">

<div id="home" class="card">
<h2>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© - Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ù…ØªÙˆØ³Ø·</h2>
<button class="primary" onclick="openNameModal('Ø±ÙŠØ§Ø¶ÙŠØ§Øª')">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button>
<button class="primary" onclick="openNameModal('Ø¹Ù„ÙˆÙ…')">Ø§Ù„Ø¹Ù„ÙˆÙ…</button>
<button class="primary" onclick="openNameModal('Ù„ØºØªÙŠ')">Ù„ØºØªÙŠ</button>
<button class="secondary" onclick="renderLeaderboard()">ğŸ† Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
</div>

<div id="quiz" class="card hidden">
<div id="quizInfo"></div>
<div class="progress"><div class="progress-bar" id="progressBar"></div></div>
<div id="timer"></div>
<h3 id="questionText"></h3>
<div id="options"></div>
<button class="primary" id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>

<div id="result" class="card hidden"></div>

</div>

<div id="nameModal" class="modal hidden">
<div class="modal-content">
<h3>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
<input type="text" id="studentName" maxlength="25" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
<p id="nameError" style="color:red"></p>
<button class="primary" onclick="validateName()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
<button onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
</div>
</div>

<footer>
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© Ø§Ù„Ø¹Ù„Ø§Ø¡ Ø¨Ù† Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©
</footer>

<script>
const quizzes={
"Ø±ÙŠØ§Ø¶ÙŠØ§Øª":[
{q:"ÙƒÙ… Ù†Ø§ØªØ¬ 7Ã—8ØŸ",o:["54","56","64","48"],a:1},
{q:"Ù…Ø­ÙŠØ· Ù…Ø±Ø¨Ø¹ Ø¶Ù„Ø¹Ù‡ 5ØŸ",o:["10","15","20","25"],a:2}
],
"Ø¹Ù„ÙˆÙ…":[
{q:"Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø­Ù…Ø±ØŸ",o:["Ø§Ù„Ù…Ø±ÙŠØ®","Ø§Ù„Ø£Ø±Ø¶","Ø²Ø­Ù„","Ø¹Ø·Ø§Ø±Ø¯"],a:0},
{q:"Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù†Ø¯ 100Â°ØŸ",o:["ØµÙ„Ø¨Ø©","ØºØ§Ø²ÙŠØ©","Ø³Ø§Ø¦Ù„Ø©","Ø¨Ù„Ø§Ø²Ù…Ø§"],a:1}
],
"Ù„ØºØªÙŠ":[
{q:"Ù…Ø±Ø§Ø¯Ù ÙƒÙ„Ù…Ø© Ø³Ø±ÙŠØ¹ØŸ",o:["Ø¨Ø·ÙŠØ¡","Ø¹Ø§Ø¬Ù„","Ø³Ø±ÙŠØ¹","Ù…ØªØ£Ø®Ø±"],a:1},
{q:"Ù†ÙˆØ¹ ÙƒÙ„Ù…Ø© Ù…Ø¯Ø±Ø³Ø©ØŸ",o:["ÙØ¹Ù„","Ø§Ø³Ù…","Ø­Ø±Ù","Ø¶Ù…ÙŠØ±"],a:1}
]
};

let currentQuiz=[],currentIndex=0,score=0,selected=null,currentStudent="",currentSubject="";
let timerInterval,timeLeft=60;

function openNameModal(subject){
currentSubject=subject;
document.getElementById("nameModal").classList.remove("hidden");
}

function closeModal(){
document.getElementById("nameModal").classList.add("hidden");
}

function validateName(){
let name=document.getElementById("studentName").value.trim();
if(name===""){document.getElementById("nameError").innerText="ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…";return;}
currentStudent=name;
closeModal();
startQuiz();
}

function startQuiz(){
currentQuiz=[...quizzes[currentSubject]].sort(()=>Math.random()-0.5);
currentIndex=0;score=0;
document.getElementById("home").classList.add("hidden");
document.getElementById("quiz").classList.remove("hidden");
loadQuestion();
}

function loadQuestion(){
selected=null;
let q=currentQuiz[currentIndex];
document.getElementById("quizInfo").innerText=`${currentSubject} | Ø³Ø¤Ø§Ù„ ${currentIndex+1} Ù…Ù† ${currentQuiz.length}`;
document.getElementById("questionText").innerText=q.q;
let optionsDiv=document.getElementById("options");
optionsDiv.innerHTML="";
q.o.sort(()=>Math.random()-0.5).forEach((opt,i)=>{
let btn=document.createElement("button");
btn.className="option";
btn.innerText=opt;
btn.onclick=()=>selectAnswer(btn,opt,q.o[q.a]);
optionsDiv.appendChild(btn);
});
updateProgress();
startTimer();
}

function selectAnswer(btn,opt,correct){
document.querySelectorAll(".option").forEach(b=>b.classList.remove("selected"));
btn.classList.add("selected");
selected=(opt===correct);
}

function nextQuestion(){
if(selected===null){alert("Ø§Ø®ØªØ± Ø¥Ø¬Ø§Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹");return;}
if(selected)score++;
currentIndex++;
if(currentIndex<currentQuiz.length)loadQuestion();
else finishQuiz();
}

document.getElementById("nextBtn").addEventListener("click",nextQuestion);

function updateProgress(){
let percent=(currentIndex/currentQuiz.length)*100;
document.getElementById("progressBar").style.width=percent+"%";
}

function startTimer(){
clearInterval(timerInterval);
timeLeft=60;
document.getElementById("timer").innerText="Ø§Ù„ÙˆÙ‚Øª: 60 Ø«Ø§Ù†ÙŠØ©";
timerInterval=setInterval(()=>{
timeLeft--;
document.getElementById("timer").innerText="Ø§Ù„ÙˆÙ‚Øª: "+timeLeft+" Ø«Ø§Ù†ÙŠØ©";
if(timeLeft<=0){clearInterval(timerInterval);nextQuestion();}
},1000);
}

function finishQuiz(){
clearInterval(timerInterval);
let percent=Math.round((score/currentQuiz.length)*100);
saveResult(percent);
document.getElementById("quiz").classList.add("hidden");
let result=document.getElementById("result");
result.classList.remove("hidden");
result.innerHTML=`<h2>Ø§Ù„Ù†ØªÙŠØ¬Ø©</h2>
<p>${currentStudent}</p>
<p>Ø§Ù„Ø¯Ø±Ø¬Ø©: ${score} / ${currentQuiz.length}</p>
<p>Ø§Ù„Ù†Ø³Ø¨Ø©: ${percent}%</p>
<button class="primary" onclick="location.reload()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>`;
}

function saveResult(percent){
let data=JSON.parse(localStorage.getItem("leaderboardData"))||[];
data.push({name:currentStudent,subject:currentSubject,percentage:percent});
data.sort((a,b)=>b.percentage-a.percentage);
localStorage.setItem("leaderboardData",JSON.stringify(data.slice(0,10)));
}

function renderLeaderboard(){
let data=JSON.parse(localStorage.getItem("leaderboardData"))||[];
let html="<h2>ğŸ† Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>";
if(data.length===0){html+="<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¹Ø¯</p>";}
else{
html+="<table><tr><th>#</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù…Ø§Ø¯Ø©</th><th>%</th></tr>";
data.forEach((d,i)=>{
let cls=i===0?"gold":i===1?"silver":i===2?"bronze":"";
html+=`<tr class="${cls}"><td>${i+1}</td><td>${d.name}</td><td>${d.subject}</td><td>${d.percentage}</td></tr>`;
});
html+="</table>";
}
html+='<button class="primary" onclick="location.reload()">Ø¥ØºÙ„Ø§Ù‚</button>';
document.getElementById("home").classList.add("hidden");
let result=document.getElementById("result");
result.classList.remove("hidden");
result.innerHTML=html;
}

function toggleDark(){
document.body.classList.toggle("dark");
}
</script>

</body>
</html>
